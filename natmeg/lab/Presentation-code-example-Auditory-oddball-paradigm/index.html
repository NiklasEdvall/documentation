
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Presentation-script-tips/">
      
      
        <link rel="next" href="../Presentation%E2%80%90code%E2%80%90example%E2%80%90Resting%E2%80%90state%E2%80%90paradigm/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Auditory oddball - Centre for Imaging Research (CIR)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-0-introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Centre for Imaging Research (CIR)" class="md-header__button md-logo" aria-label="Centre for Imaging Research (CIR)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Centre for Imaging Research (CIR)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auditory oddball
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/natmegsweden/documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Show on GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Centre for Imaging Research (CIR)" class="md-nav__button md-logo" aria-label="Centre for Imaging Research (CIR)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Centre for Imaging Research (CIR)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/natmegsweden/documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Show on GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NatMEG
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            NatMEG
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about-NatMEG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Preparation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Preparation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Electrodes-standard-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apply electrodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Digitization-hpi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digitization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SQUID Acquisition
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            SQUID Acquisition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TRIUX-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About TRIUX
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Acquisition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acquisition
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tuning channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Check-channels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Check channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EEG-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EEG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Biochannels-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bio channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lab-notebook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab notebook
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OPM-Acquisition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OPM Acquisition
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Stimulus Equipment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Stimulus Equipment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_1" >
        
          
          <label class="md-nav__link" for="__nav_2_5_1" id="__nav_2_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Audio
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_1">
            <span class="md-nav__icon md-icon"></span>
            Audio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Audio-mixer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio mixer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Speakers-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Speakers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Soundtubes-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sound tubes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Audiofile-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Behringer-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Behringer interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B%26K-sound-level-meter-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B&K sound level
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2" >
        
          
          <label class="md-nav__link" for="__nav_2_5_2" id="__nav_2_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Visual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_2">
            <span class="md-nav__icon md-icon"></span>
            Visual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Screen-and-projector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Screen and Projector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3" >
        
          
          <label class="md-nav__link" for="__nav_2_5_3" id="__nav_2_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_3">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pleasant-touch-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pleasant touch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tactile-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tactile stimulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ENS-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Electric nerve stimulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mechanical-pain-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mechanical pain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Olfaction-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Olfactometer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../test_new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New test-page
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Response Equipment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Response Equipment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Eye-tracker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eye-tracker
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" checked>
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Presentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Presentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Presentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Presentation-script-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentation tips
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_7_3" id="__nav_2_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Presentation examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_7_3">
            <span class="md-nav__icon md-icon"></span>
            Presentation examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Auditory oddball
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Auditory oddball
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-0-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Section 0: Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-1-initial-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Section 1: initial parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2-prepare-your-experiment" class="md-nav__link">
    <span class="md-ellipsis">
      Section 2: Prepare your experiment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3-practice-section-for-the-participant" class="md-nav__link">
    <span class="md-ellipsis">
      Section 3: Practice section for the participant
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4-experiments" class="md-nav__link">
    <span class="md-ellipsis">
      Section 4: experiments
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Presentation%E2%80%90code%E2%80%90example%E2%80%90Resting%E2%80%90state%E2%80%90paradigm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resting state
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Triggers-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Triggers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../File-naming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File naming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Beyond-compare/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Beyond compare
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Maxfilter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maxfilter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MSR-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Monitors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Acoustic-panels-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acoustic-panels-specs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Server
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Set-up connection
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Set-up connection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Connect-to-Archive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect to Archive
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Connect-to-Storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect to Storate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Connect-to-Compute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect to Compute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Close-VNC-connection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Close VNC connection
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Install software
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Install software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Set-up-MNE-Python-on-Compute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set-up MNE on Compute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Set-up-FieldTrip-on-Compute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set-up FieldTrip on Compute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/Guide-for-setting-up-Freesurfer-on-Compute.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set-up FreeSurfer on Compute
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../server/tutorial_00_tips_for_writing_scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-0-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Section 0: Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-1-initial-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Section 1: initial parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2-prepare-your-experiment" class="md-nav__link">
    <span class="md-ellipsis">
      Section 2: Prepare your experiment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3-practice-section-for-the-participant" class="md-nav__link">
    <span class="md-ellipsis">
      Section 3: Practice section for the participant
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4-experiments" class="md-nav__link">
    <span class="md-ellipsis">
      Section 4: experiments
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/natmegsweden/documentation/blob/main/docs/natmeg/lab/Presentation-code-example-Auditory-oddball-paradigm.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/natmegsweden/documentation/raw/main/docs/natmeg/lab/Presentation-code-example-Auditory-oddball-paradigm.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>Auditory oddball</h1>

<h3 id="section-0-introduction">Section 0: Introduction</h3>
<p>This code example is very similar to the other. However, here we introduce 3 new things:</p>
<ul>
<li>new stimulus: sound. Notice that this stimulus is not defined in the SCE code because we get the sound from the sound files (you can play them)</li>
<li>we add a practice block, which is not interesting to record, but it is needed to be sure that the participant has understood the task</li>
<li>in the previous one, there was a resting state where nothing was happening meanwhile. In this case though, in each block (there are 2) different sounds are played. Thus, we have a .txt file where each row corresponds to a trial. A trial is basically a group of sounds that will be played and have the same tone and at the end of the trial, a sound with a lower or higher tone will be played. Thus, we store the information of this .txt file in an array variable. Thus, in this case, the lenght of your experiment is determined by the lenght of the .txt file and the duration of each sound per trial. </li>
</ul>
<p>Notice that here we will use the same subroutines functions and the same stimulus defined in the SCE code</p>
<h3 id="section-1-initial-parameters">Section 1: initial parameters</h3>
<p>You need to think about what parameters are important for the interface of your experiment. </p>
<ul>
<li>First of all, if you want to show any text instructions you may want to have different language options</li>
<li>
<p>In the case of this experiment, we also added a block for the participant to practice first. However, since the experiment was carried out 2 times per participant, in the second time it was not necessary to do the practice exercise. Think if in your experiment code there are blocks for which you need dinamic changes (go over or not go over this block for example) across different experiments with the same or different subjects. If that is the case you need parameters to control tese changes more easily. For example, in the case of this code, instead of comenting the practice exercise block every time we run it (which would be not very practical neither time-efficient), we have a parameter that we include in a conditional statement to decide if we want to execute that part of the code or not. </p>
</li>
<li>
<p>extra needed subroutines</p>
</li>
<li>
<p>ports</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>##################### PARAMETER THAT CAN BE CHANGED BETWEEN EXPERIMENTS #######################
# Add parameter that you may want to change between experiments, so that you get easy access to them
string language = &quot;eng&quot;; #language can be &quot;eng&quot; or &quot;sv&quot;
string PracticeYes = &quot;y&quot;;  #ONLY set this to no when you want to skip the practice block in piloting &quot;y&quot; or &quot;n&quot;


##################### FILES THAT NEED TO BE INLCUDED #######################
# First of all, we need to include all the necessary files that will be used in this experiment
include &quot;subroutines.pcl&quot;;&quot;``

begin; #beggining of our experiment

##################### PORTS DEFINITIONS #######################
# in the app to manage the exeriments, there are output ports. We need to know this
# so that the output of the code goes to the correct output port of the system
int AFport = 2;
int myMEGport = 1;
output_port audiofile = output_port_manager.get_port(AFport);
output_port MEGport = output_port_manager.get_port(myMEGport);
output_port OPMport = output_port_manager.get_port(3);


default.present(); #this function presents the settings in the screen.
parameter_window.remove_all(); #This function removes any previously configured parameters from the parameter window to start again a new experiment.
</code></pre></div>
<h3 id="section-2-prepare-your-experiment">Section 2: Prepare your experiment</h3>
<p>In order to start running the experiments, you may need to define different variables like strings or lists or counters. </p>
<p>Let's analyse this experiment: This is an auditory oddball experiment were basically some sounds are reproduced. Most of these sounds have a certain "tone" and some specific ones have lower or higher tones in comparison with the standard tone (the one that the majority of the sounds have). So in this experiment, each trial will be something like: beep, beep, beep, beep_higher.</p>
<p>For this experiment we have a .txt file with 3 colums and 60 rows (which is the total number of trials we run per block in a single experiment). In the first colum we define the trial number (1 to 60), in the second colum the number of normal balls before the lower or higher oddball is reproduced and in the third colum a number that can be either "low" (lower tone) or "high" (higher tone). This experiment has 2 blocks, one where the go oddball is high (so the participant needs to press the button when they hear the higher tones) and the no-go oddball is low, and then in the second block is the other way around. </p>
<p>An example row of this .txt file is the following:
1   3   high</p>
<p>This is trial 1, with 3 normal balls and 1 high oddball. </p>
<p>Since the participant may not fully understand the task from our explanation, we also have a practice block (no recording needed for that).</p>
<p>Thus, in this case we need to define the following variables: </p>
<ul>
<li>
<p>PracticeRunTrials where we will store the definition of each trial in the practice section by using our .txt file "NatMEG_Auditory_trial_practicerun"</p>
</li>
<li>
<p>EXPtrials where we will store the definition of each trial in the experiment section by using our .txt file "NatMEG_Auditory_trials"</p>
</li>
<li>
<p>then we define the frequency of the sounds we will reproduce based on their category (noram ball, low oddball or high oddball). We have an aodio file where each number repesents different sounds with different frquencies.</p>
</li>
<li>
<p>Also, when you record your data and you know that something is happening, you may want to set some triggers to actually know when those things are happening. Imagine you show an image to the participant during 3 seconds at some point in your experiment. You will probably record more data at once, not just the 3 seconds. Thus, along the timeframe of your recorded data, you may want to know when the image appeared and the image was gone (to for example further analyse that particular part of the data or to know that if your data looks different in that time frame its due to the image that you were showing to the participant). For that, we use triggers. This triggers will be send to the recording MEG and OPM systems. We will further analyse this in other parts of the code.</p>
</li>
<li>
<p>Also, if you have dynamic variables that will change during the code (they are not fixed) in if conditions, it is better to first define and initialize them, because otherwise the code will give an error.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>int trialBlockLen = 6;  #Total number of trials per block. This is the total number of  rows in our file (each containing 1 oddball).
input_file PracticeRunFile = new input_file; # prepare out input file
PracticeRunFile.open(&quot;NatMEG_Auditory_trial_practicerun.txt&quot;); # define the input file

#In this loop we are reading the file where the trials are defined and storing those values in a variable 
#since PracticeRunTrials is an array and arrays need to have the same type of data, we need to devide them into 2 different arrays
array&lt;int&gt; PracticeRunTrials[trialBlockLen][2]; # make an array with trialblocklen rows and 2 columns (with integers)
array&lt;string&gt; PracticeRunTrials2[trialBlockLen][1];  # make an array with trialblocklen rows and 1 column (with strings)
loop int r=1 until r&gt; trialBlockLen begin
    PracticeRunTrials[r][1] = PracticeRunFile.get_int(); # read all the columns from the practice file into the array
    PracticeRunTrials[r][2] = PracticeRunFile.get_int();
    PracticeRunTrials2[r][1] = PracticeRunFile.get_string();
    r=r+1;
end;
PracticeRunFile.close(); #close file


#Now the same but with the experiment section

int blockLen = 60; #Total number of trials per block. This is the total number of  rows in our file (each containing 1 oddball).
input_file myfile = new input_file; 
myfile.open(&quot;NatMEG_Auditory_trials.txt&quot;);  #opening the file where the 60 trials are defined

array&lt;int&gt; alltrials[blockLen][2]; #alltrials will store all the info of the 60 trials are defined
array&lt;string&gt; alltrials2[blockLen][1];
myfile.open(fname); 
loop int r=1 until r&gt; blockLen begin
    alltrials[r][1] = myfile.get_int();
    alltrials[r][2] = myfile.get_int();
    alltrials2[r][1] = myfile.get_string();
    r=r+1;
end;
myfile.close(); #closing the file


#we have an aodio file where each number repesents different sounds with different frquencies
#The soundNum variables will tell us which sound should we pick for the normal beep, low aoddball and high oddball

int NormalBeepSoundNum = 37; # sound number 37=39_B4 -&gt; 987 Hz
int LowOddballBeepSoundNum = 75; #1; sound number 75= 43_G4 -&gt; 782 Hz
int HighOddballBeepSoundNum = 79; #2; sound number 79= 43_D5 -&gt; 1173 Hz

#Also, for post-processing of data, we need to know when a normal or a high oddball or a low odball happend.
#For this, we label the sound with a number (called trigger) to send it to the system so that afterwards we can identify when the stimulus occured

int NormalBeepTrigger = 1; #trigger code for normal beep (1 for sound onset)
int OddballBeepTrigger = 3; #2#trigger code for no-go oddball (2 for no-go, 1 for sound onset)
int GoOddballBeepTrigger = 5; # trigger code for go oddball (4 for go, 1 for sound onset)
int beepTrigger = 0;

int ITI = 1250; #1250 ITI ms ????????????

#some variables that need to have a defoult inicialization before using them
int WhichOddball = 1; # Initial identification of the go or not go oddballs 1: NoGoOddball or 2: GoOddball
int beepTrigger = 0;
int soundNum = 0;


array&lt;string&gt; GoOddBallFrequency[2][2];  # create empty array with two rows and two col
GoOddBallFrequency[1][1] = &quot;high&quot;;  #assing values to the empty array
GoOddBallFrequency[2][1] = &quot;low&quot;;

if language == &quot;sv&quot; then
    GoOddBallFrequency[1][2] = &quot;högre&quot;;  #assing values to the empty array in swedish in column 2
    GoOddBallFrequency[2][2] = &quot;lägre&quot;;
else
    GoOddBallFrequency[1][2] = &quot;higher&quot;;  #assing values to the empty array in swedish in column 2
    GoOddBallFrequency[2][2] = &quot;lower&quot;;
end;

# This line is used to suffle the orther when deciding the GO ODBALL of the block. So there si a 50% change that the first GO oddball is high 
# and 50% of being low
GoOddBallFrequency.shuffle();  # randomize order of High and Low as the go-oddball
</code></pre></div>
<h3 id="section-3-practice-section-for-the-participant">Section 3: Practice section for the participant</h3>
<p>In every practice exercise or experiment we have 2 loops:</p>
<ul>
<li>
<p>The first loop will correspond to the block number. Every exercise or experiment will have 2 blocks: 1 block for the high odball and 1 block or the low oddball (the order of these 2 blocks is random)</p>
</li>
<li>
<p>The second loop will correspond to the trial number inside 1 block. As explained before, the practice exercise has 6 trials per block and the experiment has 60 trials per block</p>
</li>
</ul>
<p>Since this is just a practice exercise, we are not using the triggers for the MEGport or OPMport. The general structure of this practice exercise is the following:</p>
<ul>
<li>
<p>loop through each block</p>
<ul>
<li>Show instructions to the participant explaining which is the go oddball in this block (high or low) in the correspoding language</li>
<li>Shuffle the order of the tirals</li>
<li>
<p>Present the fixation cross</p>
</li>
<li>
<p>loop through each trial</p>
<ul>
<li>Take the oddball type for that corresponding trial (this is the WhichOddball variable): low or high</li>
<li>Take the total number of normal beeps that the participant will hear before the oddball in that corresponding trial</li>
<li>(Meanwhile show the progress in our screen)</li>
<li>
<p>compare the current oddball type with the go odball in the block to know if the current oddball is a "go" or "no-go" </p>
</li>
<li>
<p>loop to play the normal beeps (determined by the previous step)</p>
<ul>
<li>Get the sound from the audio port (with the corresponding frequency)</li>
<li>wait interval</li>
<li>Play/trigger the sound</li>
<li>Wait interval</li>
</ul>
</li>
<li>
<p>After the normal beeps, play the corresponding oddball sound</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code>if PracticeYes == &quot;y&quot; then
    loop int PracticeBlockCounts = 1; until PracticeBlockCounts &gt; 2 begin; #loop per each block

            # INSTRUCTIONS: define and show which is the GO odball of this block
            if language == &quot;sv&quot; then
                ShowInstructions(&quot;En kort övning innan experimentet startar \n\n&quot;,
                &quot;Tryck på knappen när du hör den \n\n &quot;, 
                GoOddBallFrequency[PracticeBlockCounts][2] + &quot; tonen&quot;);
            else
                ShowInstructions(&quot;A short exercise before the experiment starts \n\n&quot;, 
                &quot;Press the button when you hear the \n\n &quot;, 
                GoOddBallFrequency[PracticeBlockCounts][2] + &quot; tone&quot;);
            end;

            PracticeRunTrials.shuffle(); #shuffle the order 

            p_Fixation.present();# present fixation cross

            loop int MyCount=1; until MyCount &gt; trialBlockLen begin #loop per each trial, 60 in total. 
            #MyCount controls the trial number

                WhichOddball = PracticeRunTrials2[MyCount][1]; # take the current oddball
                int TotalNormalBeeps = PracticeRunTrials[MyCount][2]; #total number of normal beeps before oddball

            #if the oddball of this trial is of the same type as the go oddball of the block, 
            #then it is a go oddball
                if WhichOddball == GoOddBallFrequency[PracticeBlockCounts][1] then
                    ball_textTRIAL = &quot;go&quot;;
                else # else, it is a no-go odball
                    ball_textTRIAL = &quot;no-go&quot;;
                end;

                # show progress in our screen
                ShowAltText(&quot;Block: &quot; + string(PracticeBlockCounts) + &quot;  the go-oddball is &quot; + 
                GoOddBallFrequency[PracticeBlockCounts][1], &quot;n of OddBalls: &quot; + string(MyCount) + &quot;/&quot; + 
                string(trialBlockLen), &quot;Odball type: &quot; + ball_textTRIAL);

                # Present normal beeps
                loop int normalBeeps=1; until normalBeeps &gt; (TotalNormalBeeps) begin

                    audiofile.send_code(NormalBeepSoundNum,80); #load sound
                    wait_interval(50); #wait interval
                    audiofile.send_code(128,10); #trigger sound
                    wait_interval(ITI); # wait interval
                    normalBeeps = normalBeeps + 1
                end;

                #sound that needs to be played for the odball knowing if it is a low or high oddball
                if WhichOddball == &quot;low&quot; then  #low oddball
                    soundNum = LowOddballBeepSoundNum;
                else    #high odball
                    soundNum = HighOddballBeepSoundNum;
                end;

                audiofile.send_code(soundNum,80); #load sound
                wait_interval(50); # wait interval      
                audiofile.send_code(128,10); #trigger sound
                wait_interval(ITI); # wait interval

                #Update count
                MyCount = MyCount+1;

            end; #trial loop
            PracticeBlockCounts = PracticeBlockCounts + 1;  
        end;    
end;
</code></pre></div>
<h3 id="section-4-experiments">Section 4: experiments</h3>
<p>This code follows exactly the same structure, however this time there are more trials per block and each time we play a sound, we also send a trigger to the MEGport and the OPMport so that when we analyse our data we can know when each sound was played. </p>
<div class="highlight"><pre><span></span><code>########################## START EXPERIMENT ######################################################################################

loop int block=1; until block &gt; 2 begin;

    # suffle all the data
    alltrials.shuffle();
    alltrials2.shuffle();

    # ask sleppiness to the participant
    kss_routine(language);

    #show instructions and define the GO ODDBALL (high or low). Remember that GoOddBallFrequency was also shuffled before
    if language == &quot;sv&quot; then
        ShowInstructions(&quot;Tryck på knappen när du hör den \n\n &quot;, GoOddBallFrequency[block][2] + &quot; tonen&quot;, &quot; &quot;);
    else
        ShowInstructions(&quot;Press the button when you hear the\n\n &quot;, GoOddBallFrequency[block][2] + &quot; tone&quot;, &quot; &quot;);
    end;

    p_Fixation.present(); #present fixation cross

    # loop per each trial
    loop int MyCount=1; until MyCount &gt; blockLen begin

        WhichOddball = alltrials2[MyCount][1]; #take the oddball of this trial
        int TotalNormalBeeps = alltrials[MyCount][2]; # take the total number of normal beeps before the odball in this trial

        if WhichOddball == GoOddBallFrequency[block][1] then #check if it is a go or no-go odball
            ball_text = &quot;go&quot;;
            beepTrigger = GoOddballBeepTrigger;
        else
            ball_text = &quot;no-go&quot;;
            beepTrigger = OddballBeepTrigger;
        end;

        #show progress in our screen
        ShowAltText(&quot;Block: &quot; + string(block) + &quot;  the go-oddball is &quot; + GoOddBallFrequency[block][1], &quot;n of OddBalls: &quot; + string(MyCount) +
&quot;/&quot; + string(blockLen), &quot;Odball type: &quot; + ball_text);

        # Present normal beepp
        loop int normalBeeps=1; until normalBeeps &gt; (TotalNormalBeeps) begin

            audiofile.send_code(NormalBeepSoundNum,80); #load sound with normal beep sound num
            wait_interval(50);
            MEGport.send_code(NormalBeepTrigger,40); # send predefined trigger
            OPMport.send_code(NormalBeepTrigger,40); # send predefined trigger
            audiofile.send_code(128,10); #trigger sound (play it)

            wait_interval(ITI); #Not random ITI
            normalBeeps = normalBeeps + 1
        end;

        # Present oddball
        if WhichOddball == &quot;low&quot; then  #low oddball
            soundNum = LowOddballBeepSoundNum;
            beepTrigger = beepTrigger + 0;
        else    #high odball
            beepTrigger = beepTrigger + OddBallFrequencyHighTrigger; # if the go-oddball is low, then the no-go oddball is high
            soundNum = HighOddballBeepSoundNum;
        end;

        audiofile.send_code(soundNum,80); #load sound
        wait_interval(50);
        MEGport.send_code(beepTrigger,40);   # send our updated beepTrigger
        OPMport.send_code(beepTrigger,40); # send predefined trigger
        audiofile.send_code(128,10); #trigger sound
        wait_interval(ITI); #Not random ITI

        #Update count
        MyCount = MyCount+1;

    end; #trial loop
    block = block + 1;

end; # block loop
kss_routine(language);  

endOfTest.present();
end;
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.view", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>